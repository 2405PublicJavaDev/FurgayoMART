<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fugayo's Mart</title>
    <link rel="stylesheet" href="/css/header-footer.css"> 
    <link rel="stylesheet" href="/css/mainpageheader.css">
    <link rel="stylesheet" href="/css/mainpage.css">
</head>
<body>
	<!-- =========================== 헤더 사이드바 ================================== -->
	<header>
		<div class="container">
			<div class="header-content">
				<a href="/"><img class="headerimage" src="/images/logo.png" alt="로고입니다만"> </a>
				<nav>
					<ul>
						<li><a href="/">홈</a></li>
						<li><a href="/productpage/list">상품</a></li>
						<li><a href="/notice/user">공지사항</a></li>
						<li><a href="/review/user">리뷰</a></li>
					</ul>
				</nav>
				<div class="user-actions">
					<span th:if="${session.loggedInMember != null}"> <a
						href="/member/mypage" th:text="${session.loggedInMember + '님'}"></a>
					</span>
					 <span th:unless="${session.loggedInMember != null}">로그인 후
						이용하세요</span> <span th:if="${session.loggedInMember != null}"> <a
						href="/member/logout">로그아웃</a>
					</span> 
					<span th:unless="${session.loggedInMember != null}"> <a
						href="/member/login">로그인</a>
					</span> 
					 <span>QR</span>
				</div>
			</div>
		</header>
	<div class="container">
		<div class="main-content">
			<div class="departments">
				<button onclick="toggleDepartments()" class="departments-btn">상품목록
					▼</button>
				<div id="departmentsDropdown" class="departments-content">
					<a href="/productpage/newproductlist">신규상품</a> 
					<a href="/productpage/popularlist">인기상품</a> 
					<a href="/productpage/koreanfood">한식</a> 
					<a href="/productpage/chinesefood">중식</a> 
					<a href="/productpage/japanesefood">일식</a> 
					<!-- <a href="/productpage/list">유통기한 임박 상품</a> -->
				</div>
			</div>
            <section class="banner">
                <div class="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="./images/광고배너3.PNG" alt="광고 배너 1">
                        </div>
                        <div class="carousel-item">
                            <img src="./images/광고배너2.PNG" alt="광고 배너 2">
                        </div>
                        <div class="carousel-item">
                            <img src="./images/광고배너.PNG" alt="광고 배너 3">
                        </div>
                    </div>
                    <button class="carousel-control prev" aria-label="이전 슬라이드">&lt;</button>
                    <button class="carousel-control next" aria-label="다음 슬라이드">&gt;</button>
                </div>
            </section>
        </div>
        

        <div>
            <h2>유통기한 임박 상품 20% SALE!!</h2>
        </div>
		
        <div class="categories">
        <a href="/productpage/detailList/10152">
            <div class="category">
                <img src="./images/main/product_10152.jpg" alt="상품 사진 자리입니다">
                <h3 class="category-title">후쿠오카식 모츠나베</h3>
                <p class="category-price">13,900 원</p>
            </div>
            </a>
            <a href="/productpage/detailList/10145">
            <div class="category">
                <img src="./images/main/product_10145.jpg" alt="상품 사진 자리입니다">
                <h3 class="category-title">장 칼국수</h3>
                <p class="category-price">9,900 원</p>
            </div>
            </a>
            <a href="/productpage/detailList/10122">
            <div class="category">
                <img src="./images/main/product_10122.jpg" alt="상품 사진 자리입니다">
                <h3 class="category-title">콘치즈</h3>
                <p class="category-price">5,900 원</p>
            </div>
            </a>
            <a href="/productpage/detailList/10141">
            <div class="category">
                <img src="./images/main/product_10141.jpg" alt="상품 사진 자리입니다">
                <h3 class="category-title">서울식 불고기 전골</h3>
                <p class="category-price">12,000 원</p>
            </div>
            </a>
        </div>
    </div>
    <br>
    <footer>
        <hr>
        <div class="footerclass">
            회사소개
            <a href="/notice/user">공지사항</a>
            문의하기
            운영정책
        </div>
    </footer>
    <script>
    	// 사이드바 드롭다운
        function toggleDepartments() {
            document.getElementById("departmentsDropdown").classList.toggle("show");
        }

       // 사이드바 드롭다운
        window.onclick = function(event) {
            if (!event.target.matches('.departments-btn')) {
                var dropdowns = document.getElementsByClassName("departments-content");
                for (var i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }
        // 케러셀 
        document.addEventListener('DOMContentLoaded', function() {
            const carousel = document.querySelector('.carousel');
            const inner = carousel.querySelector('.carousel-inner');
            const items = carousel.querySelectorAll('.carousel-item');
            const prevBtn = carousel.querySelector('.prev');
            const nextBtn = carousel.querySelector('.next');
            let currentIndex = 0;
        
            function showSlide(index) {
                if (index < 0) index = items.length - 1;
                if (index >= items.length) index = 0;
                inner.style.transform = `translateX(-${index * 100}%)`;
                currentIndex = index;
            }
        
            prevBtn.addEventListener('click', () => showSlide(currentIndex - 1));
            nextBtn.addEventListener('click', () => showSlide(currentIndex + 1));
        
            // 자동 슬라이드 (선택사항)
            setInterval(() => showSlide(currentIndex + 1), 4000);
        });
    </script>
</body>
</html>