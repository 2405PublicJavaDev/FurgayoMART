<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>장바구니</title>
<link rel="stylesheet" href="/css/header-footer.css">
<link rel="stylesheet" th:href="@{/css/cart-page.css}">
</head>
<body>
	<header>
		<div class="container">
			<div class="header-content">
				<a href="./"><h1 class="logo">Fugayo's Mart</h1></a>
				<nav>
					<ul>
						<li><a href="./">홈</a></li>
						<li><a href="/productpage/list">상품</a></li>
						<li><a href="/api/notice/list">공지사항</a></li>
						<li><a href="#">리뷰</a></li>
					</ul>
				</nav>
				<div class="user-actions">
					<span th:if="${session.loggedInMember != null}"> <a
						href="/member/mypage" th:text="${session.loggedInMember + '님'}"></a>
					</span> <span th:unless="${session.loggedInMember != null}">로그인 후
						이용하세요</span> <span th:if="${session.loggedInMember != null}"> <a
						href="/member/logout">로그아웃</a>
					</span> <span th:unless="${session.loggedInMember != null}"> <a
						href="/member/login">로그인</a>
					</span> <span>🛒</span> <span>QR</span>
				</div>
			</div>
		</div>
	</header>
	<main>
		<div class="cart-container">
			<div class="cart-header">
				<div class="cart-title">
					<h1>장바구니</h1>
					<p>내가 담아둔 상품정보를 확인할 수 있습니다. 원하는 상품을 체크해서 한번에 구매해보세요!</p>
				</div>
				<div class="cart-image">
<!-- 					<img th:src="@{/images/cart-image.jpg}" alt="장바구니 이미지"> -->
				</div>
			</div>

			<div class="cart-items" th:if="${not #lists.isEmpty(cartItems)}">
				<div class="cart-item" th:each="item : ${cartItems}">
					<input type="checkbox" class="item-check" th:value="${item.pNo}">
					<img th:src="@{${item.imageUrl}}" th:alt="${item.pName}"
						class="item-image">
					<div class="item-details">
						<h3 class="item-name" th:text="${item.pName}">상품명</h3>
						<p class="item-price"
							th:text="${#numbers.formatDecimal(item.pPrice, 0, 'COMMA', 0, 'POINT')} + '원'">가격</p>
						<div class="item-quantity">
							<button class="quantity-btn minus">-</button>
							<input type="number" th:value="${item.quantity}" min="1"
								class="quantity-input">
							<button class="quantity-btn plus">+</button>
						</div>
					</div>
					<button class="delete-btn" th:data-item-id="${item.pNo}">삭제하기</button>
				</div>
			</div>
			<div class="empty-cart" th:unless="${not #lists.isEmpty(cartItems)}">
				<p>장바구니가 비어있습니다.</p>
			</div>

			<div class="cart-summary">
				<p>
					선택상품 총금액: <span id="total-price">0</span>원
				</p>
			</div>

			<div class="payment-section">
				<div class="payment-method">
					<h3>결제 수단</h3>
					<label> <input type="radio" name="paymentMethod"
						value="bank"> 무통장입금
					</label>
				</div>
				<div class="payment-summary">
					<p>
						최종 결제 금액: <span id="final-price">0</span>원
					</p>
					<button id="checkout-btn">결제하기</button>
				</div>
			</div>
		</div>
	</main>
	<footer>
        <hr>
        <div class="footerclass">
            <a href="/introduce">회사소개</a>
            <a href="/notice/user">공지사항</a>
            <a href="/inquiry">문의하기</a>
            <a href="/policy">운영정책</a>
        </div>
    </footer>
	<script th:src="@{/js/cart-page.js}"></script>
</body>
</html>