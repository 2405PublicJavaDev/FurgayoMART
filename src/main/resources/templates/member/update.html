<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
<meta charset="UTF-8">
<title>회원정보수정</title>
<link rel="stylesheet" href="/css/header-footer.css">
<link rel="stylesheet" th:href="@{/css/update.css}">
</head>
<body>
	<header>
		<div class="container">
			<div class="header-content">
				<a href="./"><h1 class="logo">Fugayo's Mart</h1></a>
				<nav>
					<ul>
						<li><a href="./">홈</a></li>
						<li><a href="/productpage/list">상품</a></li>
						<li><a href="/api/notice/list">공지사항</a></li>
						<li><a href="#">리뷰</a></li>
					</ul>
				</nav>
				<div class="user-actions">
					<span th:if="${session.loggedInMember != null}"> <a
						href="/member/mypage" th:text="${session.loggedInMember + '님'}"></a>
					</span> <span th:unless="${session.loggedInMember != null}">로그인 후
						이용하세요</span> <span th:if="${session.loggedInMember != null}"> <a
						href="/member/logout">로그아웃</a>
					</span> <span th:unless="${session.loggedInMember != null}"> <a
						href="/member/login">로그인</a>
					</span> <span>🛒</span> <span>QR</span>
				</div>
			</div>
		</div>
	</header>
	<main>
		<div class="update-container">
		
			<div class="main-header">
				<h1>회원정보 수정</h1>
				<div class="profile-image">
					<!-- <img th:src="${member.profileImageUrl != null ? member.profileImageUrl : '/images/default-profile.png'}" alt="프로필 이미지"> -->
				</div>
				
			</div>
			<h2>수정정보 입력</h2>
			<form th:action="@{/member/update}" method="post"
				th:object="${member}">
				
				<div class="form-group">
					<label for="memberPhone">아이디 (휴대폰 번호)</label> <input type="text"
						id="memberPhone" name="memberPhone" th:value="*{memberPhone}"
						readonly>
				</div>

				<div class="form-group">
					<label for="memberPw">비밀번호*</label> <input type="password"
						id="memberPw" name="memberPw" th:value="*{memberPw}" required>
				</div>

				<div class="form-group">
					<label for="memberName">이름</label> <input type="text"
						id="memberName" name="memberName" th:value="*{memberName}">
				</div>

				<div class="form-group">
					<label for="memberEmail">이메일</label> <input type="email"
						id="memberEmail" name="memberEmail" th:value="*{memberEmail}">
				</div>

				<!-- 쇼핑정보 수신 동의 섹션 추가 -->
				<div class="form-group">
					<h3>쇼핑정보 수신 동의</h3>
					<div>
						<input type="checkbox" id="smsAgreementYn" name="smsAgreementYn"
							th:checked="*{smsAgreementYn}"> <label
							for="smsAgreementYn">SMS 수신 동의</label>
					</div>
					<div>
						<input type="checkbox" id="emailAgreementYn"
							name="emailAgreementYn" th:checked="*{emailAgreementYn}">
						<label for="emailAgreementYn">이메일 수신 동의</label>
					</div>
				</div>

				<div class="button-group">
					<button type="submit" class="update-btn">확인</button>
					<button type="button" class="withdraw-btn"
						onclick="confirmWithdraw()">회원탈퇴</button>
				</div>
			</form>
			<form id="withdrawForm" th:action="@{/member/delete}" method="post"
				style="display: none;"></form>
		</div>
	</main>
	<footer>
		<hr>
		<div class="footerclass">회사소개 공지사항 문의하기 운영정책</div>
	</footer>

	<div id="message"></div>
	<script th:src="@{/js/update.js}"></script>
</body>
</html>